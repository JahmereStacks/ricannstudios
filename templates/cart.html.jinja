<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>

  <body class="bg-gray-50 text-gray-900">
    {% include "components/navbar.html.jinja" %}

    

    <main class="max-w-6xl mx-auto px-4 py-10">
      <h1 class="text-3xl font-bold mb-8">Your Cart ðŸ›’</h1>

      <div class="space-y-4">
        {% for x in cart %}
        <div class="flex items-center gap-4 bg-white border rounded-lg p-4">


          
          <img
             src="{{ x['Image'] }}"
              alt="{{ x['Name'] }}"
            class="w-24 h-24 object-cover rounded"
          />

         
         
          <div class="flex-1">
            <p class="font-semibold text-lg"> {{ x["Name"] }}</p>
            <p class="text-sm text-gray-500">Quantity: {{ x["Quantity"] }}</p>

             <div>

            <form method="post" action="/cart/{{x['ProductID']}}/update_qty">
            <input name="qty" type="number" value="{{ x['Quantity']}}">
          
          <button type="submit">Update</button>
            </form>
           </div>
          </div>

         
          <div class="text-right">
            <p class="font-bold mb-2">${{ x['Price'] }}</p>
              <form method="post" action="/cart/{{ x['ProductID'] }}">
        <button type="submit" class="text-sm text-gray-500 hover:text-black underline">
            Remove
        </button>
    </form>
    </form>
          </div>
          </div>
     <div>Subtotal ${{x['Price'] * x['Quantity']}}
     </div>

        </div>
        {% else %}
        <h1 class="text-gray-600 font-bold text-4xl">Your cart is empty, Click Below To Begin Shopping</h1>

        <a href="/browse" 
       class="text-sm font-medium tracking-wide bg-black text-white px-5 py-2 rounded-md hover:bg-red-500 transition">
      Shop Now!
    </a>
        {% endfor %}
      </div>



  


      <div class="mt-10 flex items-center justify-between">
        <p class="text-xl font-bold">
          Total: ${{ total }}
        </p>

      <a href="/checkout">
        <button class="bg-black text-white px-8 py-3 rounded font-semibold hover:bg-gray-900 flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
            <g fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/>
              <path d="m9 12l2 2l4-4"/>
            </g>
          </svg>
          <span>Checkout</span>
        </button>
      </div>
       </a>
    </main>
  </body>
</html>